<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Yield For Good</title>

<style>

* {

margin: 0;

padding: 0;

box-sizing: border-box;

font-family: Arial, sans-serif;

}
css

    body {
        background-color: #f8f9fa;
    }

    .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 50px;
    }

    .logo img {
        height: 60px;
        width: auto;
    }

    .nav {
        display: flex;
        gap: 20px;
        align-items: center;
    }

    .nav-link {
        text-decoration: none;
        color: #333;
        font-weight: 500;
        padding: 8px 16px;
        border-radius: 5px;
        transition: all 0.3s ease;
        position: relative;
    }

    .nav-link:after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        bottom: 0;
        left: 50%;
        background-color: #1a1a1a;
        transition: all 0.3s ease;
        transform: translateX(-50%);
    }

    .nav-link:hover {
        color: #1a1a1a;
    }

    .nav-link:hover:after {
        width: 70%;
    }
    .donate-btn {
        background-color: #1a1a1a;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        text-decoration: none;
    }

    .hero {
        text-align: center;
        padding: 120px 20px;
    }

    .hero h1 {
        font-size: 48px;
        color: #333;
        margin-bottom: 20px;
    }

    .hero p {
        color: #666;
        margin-bottom: 30px;
    }

    .stats {
        display: flex;
        justify-content: space-around;
        padding: 80px 20px;
        max-width: 1200px;
        margin: 0 auto;
    }

    .stat-item {
        text-align: center;
        padding: 0 40px;
    }

    .stat-number {
        font-size: 36px;
        font-weight: bold;
        color: #333;
        margin-bottom: 20px;
    }

    .stat-label {
        color: #666;
    }

    .marquee-container {
        background-color: #e9ecef;
        overflow: hidden;
        padding: 40px 0;
        position: relative;
        width: 100%;
    }

    .marquee-track {
        display: flex;
        width: calc(100px * 24); /* Width of logo * number of logos */
        animation: scroll 20s linear infinite;
    }

    @keyframes scroll {
        0% { transform: translateX(0); }
        100% { transform: translateX(calc(-100px * 12)); } /* Half of total width */
    }

    .marquee-content {
        display: flex;
        justify-content: space-around;
        min-width: 100%;
    }

    .marquee-item {
        width: 100px;
        height: 100px;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .marquee-item img {
        width: 80px;
        height: auto;
    }

/* Add specific sizing for Save the Children logo */
.marquee-item img[src*="stc"] {
    width: 180px; /* Even larger for STC specifically */
}
    .info-section {
        text-align: center;
        padding: 100px 20px;
    }

    .info-section h2 {
        font-size: 36px;
        color: #333;
        margin-bottom: 20px;
    }

    .info-section p {
        color: #666;
        max-width: 800px;
        margin: 0 auto 30px;
    }

    .flowchart {
        max-width: 600px;
        margin: 40px auto;
    }

    .flowchart img {
        width: 100%;
    }

    .loading {
        opacity: 0.5;
    }

    .error {
        color: red;
        font-size: 14px;
        margin-top: 5px;
    }




    
.blast-logo {
position: fixed;
bottom: 40px;
right: 40px;
z-index: 1000;
width: 200px;
height: auto;
opacity: 0.9;
transition: opacity 0.3s ease;
}

.blast-logo:hover {
opacity: 1;
}

@media (max-width: 768px) {
.blast-logo {
width: 140px;
bottom: 30px;
right: 30px;
}
}

</style>

</head>

<body>

<header class="header">

<div class="logo">

<img src="logo.png" alt="Yield For Good">

</div>

<nav class="nav">

<a href="#about" class="nav-link">About</a>

<a href="/charity.html" class="donate-btn">DONATE NOW</a>

</nav>

</header>

</nav>

</header>

<section class="hero">
    <h1>The World's First No-loss Charity</h1>
    <p>Introducing the world's first no-loss charity, built on Blast.</p>
    <a href="/charity.html" class="donate-btn">GET STARTED</a>
</section>
<section class="stats">

<div class="stat-item">

<div class="stat-number" id="charitiesNumber">3</div>

<div class="stat-label">Charities Supported</div>

</div>

<div class="stat-item">

<div class="stat-number" id="yieldAmount">Loading...</div>

<div class="stat-label">Donation Amount</div>

<div class="error" id="yieldError"></div>

</div>

<div class="stat-item">

<div class="stat-number" id="totalAmount">Loading...</div>

<div class="stat-label">Amount Deposited</div>

<div class="error" id="totalError"></div>

</div>

</section>
<div class="marquee-container">

<div class="marquee-track">

<!-- First set of items -->

<div class="marquee-content">

<div class="marquee-item"><img src="stc.svg" alt="STC"></div>

<div class="marquee-item"><img src="stchimps.png" alt="Panda"></div>

<div class="marquee-item"><img src="logo.png" alt="YFG"></div>

<div class="marquee-item"><img src="stc.svg" alt="STC"></div>

<div class="marquee-item"><img src="stchimps.png" alt="Panda"></div>

<div class="marquee-item"><img src="logo.png" alt="YFG"></div>

<div class="marquee-item"><img src="stc.svg" alt="STC"></div>

<div class="marquee-item"><img src="stchimps.png" alt="Panda"></div>

<div class="marquee-item"><img src="logo.png" alt="YFG"></div>

<div class="marquee-item"><img src="stc.svg" alt="STC"></div>

<div class="marquee-item"><img src="stchimps.png" alt="Panda"></div>

<div class="marquee-item"><img src="logo.png" alt="YFG"></div>

</div>

<!-- Duplicate set for seamless loop -->

<div class="marquee-content">

<div class="marquee-item"><img src="stc.svg" alt="STC"></div>

<div class="marquee-item"><img src="stchimps.png" alt="Panda"></div>

<div class="marquee-item"><img src="logo.png" alt="YFG"></div>

<div class="marquee-item"><img src="stc.svg" alt="STC"></div>

<div class="marquee-item"><img src="stchimps.png" alt="Panda"></div>

<div class="marquee-item"><img src="logo.png" alt="YFG"></div>

<div class="marquee-item"><img src="stc.svg" alt="STC"></div>

<div class="marquee-item"><img src="stchimps.png" alt="Panda"></div>

<div class="marquee-item"><img src="logo.png" alt="YFG"></div>

<div class="marquee-item"><img src="stc.svg" alt="STC"></div>

<div class="marquee-item"><img src="stchimps.png" alt="Panda"></div>

<div class="marquee-item"><img src="logo.png" alt="YFG"></div>

</div>

</div>

</div>
<section class="info-section" id="about">
    <h2>Support your favorite charities without spending a cent.</h2>

    <p>Support a charity of your choice without investing any money. Lock up your crypto assets for as little as one week to contribute. This is made possible using the Ethereum Layer 2 Blast.</p>

    <div class="flowchart">
        <img src="flowchart.png" alt="Process Flowchart">
    </div>

    <div class="stats">
        <p>Current Yield Available: $<span id="yieldAmount">Checking...</span></p>
        <p>Total Value Locked: $<span id="totalAmount">Checking...</span></p>
        <p id="yieldError" class="error"></p>
        <p id="totalError" class="error"></p>
    </div>

    <p>It's that simple. No strings attached or fees taken. Yield for Good is and always will be a nonprofit, operating for nothing more than the greater good.</p>

    <a href="/charity.html" class="donate-btn">DONATE NOW</a>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
<script>
window.addEventListener('DOMContentLoaded', async () => {
    const CONTRACT_ADDRESSES = [
        '0x1807b73a78f55385443B54B75dBc18f7Ca07AaF5'  // ETH contract
    ];

    const USDB_CONTRACT_ADDRESS = '0x4300000000000000000000000000000000000003';

    const CONTRACT_ABI = [
        {
            "inputs": [],
            "name": "fetchYieldAmount",
            "outputs": [{"internalType": "uint256", "name": "", "type": "uint256"}],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "totalAmount",
            "outputs": [{"internalType": "uint256", "name": "", "type": "uint256"}],
            "stateMutability": "view",
            "type": "function"
        }
    ];

    const USDB_ABI = [
        {
            "inputs": [],
            "name": "totalSupply",
            "outputs": [{"internalType": "uint256", "name": "", "type": "uint256"}],
            "stateMutability": "view",
            "type": "function"
        }
    ];

    async function getEthPrice() {
        try {
            const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd');
            const data = await response.json();
            return data.ethereum.usd;
        } catch (error) {
            console.error('Error fetching ETH price:', error);
            return null;
        }
    }

    function formatUSD(amount) {
        return new Intl.NumberFormat('en-US', {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2
        }).format(amount);
    }

    async function verifyContract(provider, address) {
        const code = await provider.getCode(address);
        return code !== '0x';
    }

    async function connectContract(address, abi) {
        try {
            if (typeof window.ethers === 'undefined') {
                throw new Error('Ethers library not loaded');
            }

            const blastRPC = "https://rpc.blast.io";
            const provider = new ethers.providers.JsonRpcProvider(blastRPC);
            
            await provider.ready;

            const hasCode = await verifyContract(provider, address);
            if (!hasCode) {
                throw new Error(`No contract found at ${address}`);
            }

            return new ethers.Contract(
                address,
                abi,
                provider
            );
        } catch (error) {
            console.error('Error connecting to contract:', error);
            return null;
        }
    }

    async function fetchContractData(ethContract, usdbContract) {
        const results = {
            yield: 0,
            total: 0,
            errors: []
        };

        try {
            const ethPrice = await getEthPrice();
            if (!ethPrice) {
                results.errors.push('Could not fetch ETH price');
                return results;
            }

            // Fetch ETH values and convert to USD
            try {
                const ethYield = await ethContract.fetchYieldAmount();
                const ethYieldInEth = ethers.utils.formatEther(ethYield);
                results.yield += ethYieldInEth * ethPrice;
            } catch (error) {
                results.errors.push(`ETH yield fetch error: ${error.reason || error.message}`);
            }

            try {
                const ethTotal = await ethContract.totalAmount();
                const ethTotalInEth = ethers.utils.formatEther(ethTotal);
                results.total += ethTotalInEth * ethPrice;
            } catch (error) {
                results.errors.push(`ETH total fetch error: ${error.reason || error.message}`);
            }

            // Fetch USDB values
            try {
                const usdbTotal = await usdbContract.totalSupply();
                const usdbTotalInUsd = ethers.utils.formatUnits(usdbTotal, 18);
                results.total += parseFloat(usdbTotalInUsd);
                // Assume yield is 30% APR for USDB
                results.yield += (parseFloat(usdbTotalInUsd) * 0.30) / 52; // Weekly yield
            } catch (error) {
                results.errors.push(`USDB fetch error: ${error.reason || error.message}`);
            }

        } catch (error) {
            results.errors.push(`Contract interaction failed: ${error.message}`);
        }

        return results;
    }

    async function updateStats() {
        const yieldElement = document.getElementById('yieldAmount');
        const totalElement = document.getElementById('totalAmount');
        const yieldErrorElement = document.getElementById('yieldError');
        const totalErrorElement = document.getElementById('totalError');

        yieldElement.textContent = 'Checking...';
        totalElement.textContent = 'Checking...';
        yieldErrorElement.textContent = '';
        totalErrorElement.textContent = '';

        const ethContract = await connectContract(CONTRACT_ADDRESSES[0], CONTRACT_ABI);
        const usdbContract = await connectContract(USDB_CONTRACT_ADDRESS, USDB_ABI);

        if (!ethContract || !usdbContract) {
            const errorMsg = 'Failed to connect to contracts';
            yieldErrorElement.textContent = errorMsg;
            totalErrorElement.textContent = errorMsg;
            return;
        }

        const data = await fetchContractData(ethContract, usdbContract);
        
        if (data.errors.length > 0) {
            yieldErrorElement.textContent = data.errors.join('; ');
            totalErrorElement.textContent = data.errors.join('; ');
        }

        yieldElement.textContent = formatUSD(data.yield);
        totalElement.textContent = formatUSD(data.total);
    }

    // Initial update
    await updateStats();

    // Update every 30 seconds
    setInterval(updateStats, 30000);
});
</script>

<style>
.info-section {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

.stats {
    background: #f5f5f5;
    padding: 20px;
    border-radius: 8px;
    margin: 20px 0;
}

.error {
    color: #ff0000;
    font-size: 0.9em;
    margin-top: 5px;
}

.donate-btn {
    display: inline-block;
    padding: 12px 24px;
    background: #007bff;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    margin-top: 20px;
}

.donate-btn:hover {
    background: #0056b3;
}
</style>
<img src="blast.svg" alt="Blast" class="blast-logo">

</body>

</html>
